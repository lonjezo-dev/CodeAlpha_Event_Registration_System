{% extends 'base.html'%}
{% load static %}
{% block title %} {{ event.title }} {% endblock %}
  
{% block content %}
  <link rel="stylesheet" href="{% static 'events/style.css' %}">
    <div class="event-detail">
        <h1 class="event-title">{{ event.title }}</h1>
        {% if event.date %}
        <p class="event-date"><strong>Date:</strong> {{ event.date }}</p>
        {% endif %}
        {% if event.location %}
        <p class="event-location"><strong>Location:</strong> {{ event.location }}</p>
        {% endif %}
        {% if event.description %}
        <div class="event-description">
            <h2>Description</h2>
            <p>{{ event.description }}</p>
        </div>
        {% endif %}
    </div>
    
        {# Messages (success/info) will display here if any view set them #}
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li class="message {{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}

        {# Registration button/form #}
        <div class="event-register">
            {% if user.is_authenticated %}
                <form action="{% url 'events:register' event.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Register for this event</button>
                </form>
            {% else %}
                <p>Please <a href="{% url 'login' %}">log in</a> to register for this event.</p>
            {% endif %}
        </div>
{% endblock %}